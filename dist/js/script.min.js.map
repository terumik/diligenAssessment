{"version":3,"sources":["script.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","Content","instance","TypeError","_classCallCheck","this","getParagraph","getParagraphByIndex","fetch","then","res","json","count","_loop","li","document","createElement","getElementById","appendChild","innerHTML","onclick","activeLink","getElementsByClassName","removeAttribute","setAttribute","index","ok","status","statusText","documents","paragraph","selectedText","addEventListener","highlighted","console","log","innerText","wordSelected","window","getSelection","getRangeAt","span","className","extractContents","insertNode","commonAncestorContainer","lastElementChild","regex","RegExp","sameWords","textContent","replace","catch","err","default","2","obj","_content","__esModule","createContent","./modules/content"],"mappings":"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","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Content = function () {\n    function Content() {\n        _classCallCheck(this, Content);\n    }\n\n    _createClass(Content, [{\n        key: 'createContent',\n        value: function createContent() {\n            var getParagraph = this.getParagraphByIndex;\n\n            fetch('https://diligen-node.herokuapp.com/getNumOfParagraphs').then(function (res) {\n                return res.json();\n            }).then(function (json) {\n                return json[0].count;\n            }).then(function (count) {\n                var _loop = function _loop(i) {\n\n                    var li = document.createElement('li');\n                    document.getElementById('nav__pages').appendChild(li).innerHTML = 'Paragraph ' + i;\n\n                    // 2. set onclick event and pass the index of the paragraph\n                    li.onclick = function () {\n                        var activeLink = document.getElementsByClassName('active')[0] ? document.getElementsByClassName('active')[0] : null;\n                        if (activeLink) {\n                            activeLink.removeAttribute('class');\n                        }\n\n                        var displayParagraph = function displayParagraph() {\n                            getParagraph(i);\n                            li.setAttribute('class', 'active');\n                        };\n                        displayParagraph();\n                    };\n                };\n\n                // 1. create navigation links based on the numbers of paragraphs\n                for (var i = 1; i <= count; i++) {\n                    _loop(i);\n                }\n            });\n        }\n    }, {\n        key: 'getParagraphByIndex',\n        value: function getParagraphByIndex(index) {\n\n            fetch('https://diligen-node.herokuapp.com/getParagraph/' + index).then(function (res) {\n                if (!res.ok) {\n                    document.getElementById('body__paragraph--display').innerHTML = '\\n                <h2>404 Page Not Found</h2>\\n                <p>The link you followed probably broken, or the page has been removed.</p>\\n                ';\n                    throw Error(res.status + ': ' + res.statusText);\n                }\n                return res;\n            }).then(function (res) {\n                return res.json();\n            }).then(function (json) {\n                return json[0].documents;\n            }).then(function (paragraph) {\n                document.getElementById('body__paragraph--display').innerHTML = paragraph;\n            }).then(function () {\n\n                var selectedText = void 0;\n                var paragraph = document.getElementById('body__paragraph--display');\n\n                paragraph.addEventListener('click', function () {\n\n                    var highlighted = document.getElementsByClassName(\"highlight\");\n                    if (highlighted) {\n                        for (var i = 0; i < highlighted.length; i++) {\n                            console.log(highlighted[i]);\n                            highlighted[i].innerHTML = highlighted[i].innerText;\n                        }\n                    }\n\n                    var wordSelected = window.getSelection().getRangeAt(0),\n                        span = document.createElement('span');\n                    span.className = 'highlight';\n\n                    span.appendChild(wordSelected.extractContents());\n\n                    wordSelected.insertNode(span);\n\n                    selectedText = wordSelected.commonAncestorContainer.lastElementChild.innerText;\n\n                    var regex = new RegExp('(' + selectedText + ')', 'ig');\n\n                    var sameWords = paragraph.textContent.replace(regex, '<span class=\"highlight\">$1</span>');\n                    paragraph.innerHTML = sameWords;\n                });\n            }).catch(function (err) {\n                console.log(err);\n            });\n        }\n    }]);\n\n    return Content;\n}();\n\nexports.default = Content;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _content = require('./modules/content');\n\nvar _content2 = _interopRequireDefault(_content);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar content = new _content2.default();\n\n// Create contents inside of main tag\ncontent.createContent();\n\n},{\"./modules/content\":1}]},{},[2]);\n"]}